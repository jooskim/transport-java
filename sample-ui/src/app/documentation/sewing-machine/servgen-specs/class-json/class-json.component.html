<h1>Service Adapter Specification</h1>

<h3>Specification Document: class.json</h3>

<p>
    By convention, <code class="clr-code">class.json</code> contains the specifications for either defining a new custom class,
    or customization of an already defined class, or the inclusion of a class that is not oherwise referred to by the enclosing
    Service Adapter. This section only deals with the specification syntax. A later chapter will discuss in detail the
    autogenerated code.
</p>

<p>
    It should be noted that the customization of classes in the service layer is deprecated and belongs in the application layer.
    As such, class.json should only be used to include classes that are not otherwise included by virtue of being referenced
    by the Service Adapter. Instead, the specification of <code class="clr-code">Custom Classes</code> using the Sewing Machine
    component: <strong class="emphasis">Modelgen</strong>, is the preferred way to customize classes in the
    application layer.
</p>

<p>
    Here is an example of two classes excerpted from the <strong class="emphasis">sddc-core</strong> Service Adapter:
</p>

<pre class="code" ><code class="language-json" ngNonBindable>
&#123;
    "classes": [
        &#123;
            "class": "SddcProvisioningStatus",
            "properties": [
                &#123; "property": "provisioning_status", "optional": true &#125;,
                &#123; "property": "progress_percent", "type": "integer", "optional": true &#125;,
                &#123; "property": "estimated_remaining_minutes", "type": "integer", "optional": true &#125;
            ]
        &#125;,
        &#123;
             "class": "SddcProvisioningSpec", "customized": false
        &#125;,
</code></pre>
<p>
    In the above, we have specified that we want to add additional properties to the <code class="clr-code">SddcProvisioningStatus</code>
    class that was defined in <strong class="emphasis">vmc-api-doc.yaml</strong>.
    We have also specified a second class: <code class="clr-code">SddcProvisioningSpec</code>, where we
    just want the original class from <strong class="emphasis">vmc-api-doc.yaml</strong> defined because there are no references
    to it which would force its inclusion otherwise, and also specified that we are not going to customize this class by adding properties
    to it, or creating customizable stubs for it.
</p>
<table class="table table-noborder flag-table">
    <thead>
    <tr>
        <th class="left flag-header">Property</th>
        <th>Description</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td class="left flag">classes</td>
        <td class="flag-value">This property specifies an array custom classes. These can be new classes that do not exist in the
            API Specification document(s), or they can be classes that do exist in the API Specification document(s) that you wish to
            customize by adding properties for local use, or they may be declarations of classes to be defined and used, which were
            not included for definition by virtue of them not being referenced by the Service Adapter, but which are required
            for access from the application layer.
            <br/><br/>
            See note above about the deprecation of customizing classes in a Service Adapter.
        </td>
    </tr>
    <tr>
        <td class="left flag">class</td>
        <td class="flag-value">This property specifies the name of each class that is to be customized or just included in the
            definitions list and Service Interface Document (YAML).
        </td>
    </tr>
    <tr>
        <td class="left flag">properties</td>
        <td class="flag-value">This property specifies an array of <code class="clr-code">property</code> objects that this
            class wants to add to the original class from the API Specification document(s).
        </td>
    </tr>
    <tr>
        <td class="left flag">property</td>
        <td class="flag-value">Each object in the above array of <code class="clr-code">properties</code>, concisely describes
            the property being added, including its type. The type specification uses container/nested/type from the
            <code class="clr-code">CommonType</code> described in previous chapters. <code class="clr-code">optional</code>
            may also be specified to indicate that the property is not <strong class="emphasis">required</strong> in order
            to check the validity of the class.
        </td>
    </tr>
    <tr>
        <td class="left flag">customized</td>
        <td class="flag-value">By default, every class that has an entry in <strong class="emphasis">class.json</strong> is considered
            to be <strong class="emphasis">customizable</strong>. This results in a customizable stub being created in the
            top directory of the Service Adapter, as well as an autogenerated (no modifiable) "Auto" class being created,
            which in turn inherits from the original class in the API Specification document(s).
            <br/><br/>
            Specifying <strong class="emphasis">customized</strong> to <code class="clr-code">false</code>, results in the
            inhibition of creating the customizable class stub, as well as the "Auto" class. The original class from the
            API Specification document(s), however, is autogenerated, and described in the Service Adapter Interface
            document(s), for processing by downstream Sewing Machine components.
            <br/><br/>
            This is the only recommended way to use custom classes as described in the note above.
        </td>
    </tr>
    </tbody>
</table>

<hr/>

<p>
    That's it! This is all you need to specify custom classes.
</p>
