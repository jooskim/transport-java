<h1>JSON Schema</h1>
<p>
    From <a href="/documentation/sewing-machine/servgen">ServGen - CLI</a>, it is noted that the role of ServGen is to
    derive service adapters from the provided API specification documents and generate API documents for use with
    the next tool in the chain. To be able to generate service adapters, ServGen requires that there be at least one
    "service spec", or <code class="clr-code">service.json</code> file along with the API document.
    Each <code class="clr-code">service.json</code> in its service spec folder represents a service adapter to be
    created by ServGen. Refer to ServGen - Understanding for details on the service spec.
</p>
<p>
    In this document, we are going to focus on improving developer experience by <b>enabling the autocompletion feature
    in IDE</b> for service spec and other special JSON files that ServGen consumes. As you would find in the ServGen
    details page, there are a few more optional JSON files that ServGen uses for generating other various types of objects
    including mocks, maps, etc. For these JSON files we have created schemas that you can import into the IDE of your
    choice (IntelliJ IDEA or VS Code) to enable autocompletion while editing those JSON files for your Sewing-Machine-
    based UI project. See the <b>Supported JSON types</b> section below to find out what file types are supported.
</p>
<hr/>
<h2>Getting the schema files</h2>
<p>
    First, you need to get your schema files.
    There are two ways you can do this. First and recommended way is to check out the
    <a href="https://gitlab.eng.vmware.com/autogen/autogen-sources" target="_blank">Sewing Machine project</a> and
    set the location of the JSON schemas in your IDE to the corresponding files in the
    <code class="clr-code">json-schema</code> folder. See the first screenshot below for more details.
    The other option is to download only
    <a href="https://gitlab.eng.vmware.com/autogen/autogen-sources/tree/master/json-schema" target="_blank">
    the JSON schema files</a> from the project. Once you have downloaded them, make sure to place them in a location
    that is not part of any other projects.
</p>
<hr/>
<h2>Activating the schemas in IDE</h2>
<p>
    Instructions for IntelliJ: <a href="https://www.jetbrains.com/help/idea/json.html#ws_json_schema_add_custom" target="_blank">click</a><br/>
    Instructions for VS Code: <a href="https://code.visualstudio.com/docs/languages/json#_mapping-to-a-schema-in-the-workspace" target="_blank">click</a>
</p>
<h3>Sample configuration in IntelliJ</h3>
<p><img class="screenshot" src="assets/sewing-machine/json-schema-example-intellij.png"></p>
<p>
    Once you have applied the schemas in your IDE, you will start seeing properties being recommended
    for the object you are editing. The screenshot below is an example for <code class="clr-code">mocks.json</code>
</p>
<p>
    <img class="screenshot" src="assets/sewing-machine/json-schema-autocompletion.png">
</p>
<hr/>
<h2>Supported JSON types</h2>
<ul>
    <li>service.json</li>
    <li>imports.json</li>
    <li>exports.json</li>
    <li>enum.json</li>
    <li>class.json</li>
    <li>maps.json</li>
    <li>sets.json</li>
    <li>mocks.json</li>
    <li>testing.json</li>
</ul>
